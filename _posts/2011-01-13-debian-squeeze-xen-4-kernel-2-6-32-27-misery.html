---
layout: post
title: Debian Squeeze + Xen 4 + Kernel 2.6.32.27 = Misery
categories:
- Kernel
- Linux
- Opensource
- Programming
- Rants
- Research
- Virtualization
- Xen
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _wp_old_slug: ''
---
I recently moved my Debian Squeeze development platform from the 2.6.31.10 kernel and Xen 3.4.3 to 2.6.32.27 and Xen 4.0.1. I really must say this has been both a learning experience and...to put it lightly, a vortex of never-ending agony from which there is no hope of escape.
<br /><br />
I have spent several full working days worth of hours just trying to get a DomU to consistently boot, the keyword being "consistently". I figure that it wouldn't be quite so bad If my DomU never managed to lift off, but against all my best efforts the magic number seems to be somewhere around 30%. This as a result, keeps me tantalizingly close enough to success that I just keep working at it .  I am a huge fan of this project and most open source initiatives, this being one of the main reasons I chose to use Xen for my research prototype. All that being said, I have not been able to keep this thing going long enough to get any active development done since I upgraded to the newer version and using it right now feels like I am walking on eggshells. I am not criticizing Xen, it is an amazingly complex piece of software and the developers are doing a fantastic job. Here are the two main issues I have encountered over the last year of using Xen and the Xen hypervisor API.
<h2>Documentation and Howtos? I think not!</h2>
The Xen wiki provides a small amount of help, but seems to cover exactly 1/4 of each thing you might want to know, no more, no less. Just enough to let you know that a solution is possible, but It doesn't feel like giving it to you just yet. Why does the <a href="http://wiki.archlinux.org">Arch Linux Wiki</a> get to kick so much ass?
<h2>No one ever posts how they solved a problem.</h2>
I am currently having an issue related to this wonderful error: "SETVCPUCONTEXT failed". So when I spend a while on the xen-users mailing list and find someone else with the same issue I get all giddy and read through the comments expectantly, carefully, taking my time and enjoying the lead up to a beautiful solution that will solve all my life's problems until.....It just stops. The vast majority of the issues I have encountered have been quite thoroughly discussed by the developers and the community, the problem is that no one seems to post how they solved the problem, they just fix their systems and move on with their life never looking at the forum post ever again. The developers on the meantime fix it in the kernel or Xen and you don't get a fix unless you are willing to update your kernel to the bleeding-edge version fresh from the git repository. So I plead with all Xen users! Post your solutions! Post them for the good of all mankind! At the very least post them to preserve this poor man's sanity!
